<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>主控人专属管理后台</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:微软雅黑;}
        body{background:#000;color:#fff;min-height:100vh;padding:20px;padding-bottom:120px;}
        .admin-title{color:#60a5fa;font-size:1.6rem;text-align:center;margin:20px 0;padding-bottom:15px;border-bottom:1px solid #3b82f6;}
        .admin-box{background:rgba(15,15,15,0.9);border:1px solid #8b5cf6;border-radius:12px;padding:25px;margin-bottom:20px;}
        .func-title{color:#a78bfa;font-size:1.3rem;margin:15px 0;display:flex;align-items:center;gap:8px;}
        .func-title::before{content:"⚙️";}
        .upload-area{margin:15px 0;padding:15px;border:1px dashed #3b82f6;border-radius:8px;background:#111;}
        .upload-btn{padding:10px 20px;border:none;border-radius:6px;background:linear-gradient(#3b82f6,#8b5cf6);color:#fff;cursor:pointer;margin:10px 0;}
        input[type="file"]{background:#1a1a1a;padding:8px;border-radius:6px;color:#cbd5e1;}
        .img-preview{margin:10px 0;width:100%;max-height:200px;border:1px solid #475569;border-radius:8px;display:none;object-fit:contain;}
        .subtitle-input{width:100%;height:100px;padding:12px;border:1px solid #3b82f6;border-radius:8px;background:#111;color:#fff;resize:none;outline:none;margin:10px 0;}
        .common-btn{padding:10px 20px;border:none;border-radius:6px;background:linear-gradient(#3b82f6,#8b5cf6);color:#fff;cursor:pointer;margin:5px;}
        .back-btn{background:linear-gradient(#475569,#64748b);}
        .switch-btn{padding:8px 16px;border-radius:20px;border:none;cursor:pointer;margin:0 10px;}
        .on{background:#3b82f6;color:#fff;}
        .off{background:#475569;color:#fff;}
        .master-mine-txt{position:fixed;bottom:110px;left:50%;transform:translateX(-50%);color:#a78bfa;font-size:1rem;opacity:0.8;}
        .footer-bar{position:fixed;bottom:40px;left:0;right:0;height:70px;background:#111;border-top:1px solid #3b82f6;display:flex;align-items:center;justify-content:space-around;z-index:99;}
        .footer-btn{color:#fff;font-size:1.2rem;border:none;background:transparent;cursor:pointer;padding:10px 30px;border-radius:6px;}
        .footer-btn:hover{color:#60a5fa;}
        .site-info{position:fixed;bottom:0;left:0;right:0;height:40px;background:#1a1a1a;border-top:1px solid #8b5cf6;display:flex;align-items:center;justify-content:center;font-size:0.9rem;color:#94a3b8;}
    </style>
</head>
<body>
    <h2 class="admin-title">主控人专属管理后台</h2>

    <!-- 机器人控制 -->
    <div class="admin-box">
        <h3 class="func-title">机器人功能控制</h3>
        <p>当前机器人状态：<span id="robotStatus" style="color:#3b82f6;">开启</span></p>
        <button class="switch-btn on" onclick="openRobot()">开启机器人</button>
        <button class="switch-btn off" onclick="closeRobot()">关闭机器人</button>
        <button class="common-btn" onclick="editRobotReply()">修改机器人回复话术</button>
    </div>

    <!-- 公告修改 -->
    <div class="admin-box">
        <h3 class="func-title">修改首页公告</h3>
        <textarea class="subtitle-input" id="noticeText" placeholder="输入新公告内容...">平台正常运行，所有互动功能开放，评论点赞自由发布，主控人可在我的页面登录管理后台</textarea>
        <button class="common-btn" onclick="updateNotice()">更新公告</button>
    </div>

    <!-- 文件上传 -->
    <div class="admin-box">
        <h3 class="func-title">文件上传</h3>
        <div class="upload-area">
            <input type="file" id="fileUpload">
            <button class="upload-btn" onclick="uploadFile()">上传文件</button>
        </div>
    </div>

    <!-- 图片上传+预览 -->
    <div class="admin-box">
        <h3 class="func-title">图片上传（支持预览）</h3>
        <div class="upload-area">
            <input type="file" id="imgUpload" accept="image/*">
            <button class="upload-btn" onclick="previewImg()">预览图片</button>
            <button class="upload-btn" onclick="uploadImg()">上传图片</button>
            <img src="" class="img-preview" id="imgView">
        </div>
    </div>

    <!-- 字幕上传/编辑 -->
    <div class="admin-box">
        <h3 class="func-title">字幕上传/编辑</h3>
        <textarea class="subtitle-input" id="subtitleText" placeholder="输入字幕内容，换行分隔每句..."></textarea>
        <button class="common-btn" onclick="uploadSubtitle()">上传字幕</button>
        <button class="common-btn back-btn" onclick="clearSubtitle()">清空字幕</button>
    </div>

    <!-- 退出按钮 -->
    <div class="admin-box">
        <button class="common-btn back-btn" onclick="logout()">退出主控人后台</button>
    </div>

    <!-- 底部栏+网站信息 -->
    <div class="master-mine-txt">我的</div>
    <div class="footer-bar">
        <button class="footer-btn" onclick="goIndex()">首页</button>
        <button class="footer-btn" onclick="logout()">我的</button>
    </div>
    <div class="site-info" id="siteInfo">全网主控人平台 | 安全防护已开启 | 运维状态：正常 | 机器人状态：运行中</div>

    <script src="admin.js"></script>
</body>
</html>